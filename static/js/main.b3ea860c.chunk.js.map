{"version":3,"sources":["../../lib/client.ts","../../lib/index.ts","../../lib/utils.ts","../../lib/websocket.ts","overmind/state.ts","overmind/actions.ts","overmind/tree.ts","overmind/onInitialize.ts","overmind/index.ts","components/Map.tsx","components/odap-demo-logo.png","components/LeftDrawer.tsx","components/BottomDrawer.tsx","components/App.tsx","reportWebVitals.ts","index.tsx"],"names":["arrayPath","resolve","state","oada","oadaCacheOvermind","connection","loaded","selectedField","mapCenter","lat","lon","zoom","this","Object","keys","bookmarks","agrinovus","selectedFieldName","fields","field","polygon","progress","acre","areaInAcre","percentage","statistics","numOfFieldsHarvested","numOfFieldsBeingHarvested","totalHarvestedAreaInAcre","totalAreaInAcre","selectField","id","tree","_type","_rev","onInitialize","a","actions","effects","connect","token","domain","then","response","console","log","error","connectionId","requests","path","watch","get","connection_id","length","config","useOvermind","createHook","DefaultIcon","L","icon","iconUrl","shadowUrl","iconShadow","ChangeView","center","useMap","setView","Marker","prototype","options","MapComponent","position","fieldPolygon","progressPolygon","polygonColor","color","x","Math","floor","random","selectColor","MapContainer","TileLayer","attribution","url","Polygon","pathOptions","positions","fillOpacity","darkTheme","createMuiTheme","palette","type","lightTheme","useStyles","makeStyles","theme","createStyles","root","display","appBar","flexGrow","justifyContent","zIndex","background","appTitleBig","margin","spacing","fontWeight","lineHeight","appTitleSmall","fontSize","menuButton","marginRight","helpButton","hide","drawer","width","flexShrink","drawerPaperBig","top","drawerPaperSmall","drawerHeader","alignItems","nested","paddingLeft","logo","height","dialogTitle","LeftDrawerComponent","classes","useTheme","React","useState","open","setOpen","inProgressMenuOpen","setInProgressMenuOpen","notStartedMenuOpen","setNotStartedMenuOpen","doneMenuOpen","setDoneMenuOpen","infoOpen","setInfoOpen","bigScreen","useMediaQuery","infoHandleClose","className","CssBaseline","AppBar","Toolbar","IconButton","aria-label","onClick","edge","clsx","src","alt","Typography","variant","Dialog","fullScreen","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","Drawer","anchor","paper","align","Divider","List","ListItem","button","ListItemIcon","ListItemText","primary","Collapse","in","timeout","unmountOnExit","component","disablePadding","map","text","index","THEME","BorderLinearProgress","withStyles","borderRadius","colorPrimary","backgroundColor","grey","bar","LinearProgress","LinearProgressWithLabel","props","Box","mr","minWidth","round","value","transition","transitions","create","easing","sharp","duration","leavingScreen","bottom","appBarShift","easeOut","enteringScreen","appBarProgress","bottomBarButton","drawerPaper","drawerEmptyField","drawerHeight","progressBar","padding","BottomDrawerComponent","num","places","showProgressBar","showProgress","style","gutterBottom","trunc","pow","content","marginLeft","App","LeftDrawer","Map","BottomDrawer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","overmind","createOvermind","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b3ea860c.chunk.js","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ksuid_1 = __importDefault(require(\"ksuid\"));\nconst utils = __importStar(require(\"./utils\"));\nconst websocket_1 = require(\"./websocket\");\nclass OADAClient {\n    constructor(config) {\n        this._token = \"\";\n        this._domain = \"\";\n        this._concurrency = 1;\n        this._domain = config.domain.replace(/^https:\\/\\//, \"\");\n        this._token = config.token || this._token;\n        this._concurrency = config.concurrency || this._concurrency;\n        this._ws = new websocket_1.WebSocketClient(this._domain, this._concurrency);\n    }\n    clone(token) {\n        const c = new OADAClient({\n            domain: this._domain,\n            token: token,\n            concurrency: this._concurrency,\n            _ws: this._ws,\n        });\n        return c;\n    }\n    getToken() {\n        return this._token;\n    }\n    getDomain() {\n        return this._domain;\n    }\n    disconnect() {\n        return this._ws.disconnect();\n    }\n    awaitConnection() {\n        return this._ws.awaitConnection();\n    }\n    async get(request) {\n        const topLevelResponse = await this._ws.request({\n            method: \"get\",\n            headers: {\n                authorization: `Bearer ${this._token}`,\n            },\n            path: request.path,\n        }, undefined, request.timeout);\n        if (request.tree) {\n            const arrayPath = utils.toArrayPath(request.path);\n            const subTree = utils.getObjectAtPath(request.tree, arrayPath);\n            topLevelResponse.data = await this._recursiveGet(request.path, subTree, topLevelResponse.data || {});\n        }\n        if (request.watchCallback) {\n            const rev = topLevelResponse.headers\n                ? topLevelResponse.headers[\"x-oada-rev\"]\n                : undefined;\n            await this.watch({\n                path: request.path,\n                rev,\n                watchCallback: request.watchCallback,\n            });\n        }\n        return topLevelResponse;\n    }\n    async watch(request) {\n        let headers = {};\n        if (request.rev) {\n            headers[\"x-oada-rev\"] = request.rev;\n        }\n        const r = await this._ws.request({\n            method: \"watch\",\n            headers: Object.assign({ authorization: `Bearer ${this._token}` }, headers),\n            path: request.path,\n        }, (resp) => {\n            for (const change of resp.change) {\n                request.watchCallback(change);\n            }\n        }, request.timeout);\n        if (r.status !== 200) {\n            throw new Error(\"Watch request failed!\");\n        }\n        return Array.isArray(r.requestId) ? r.requestId[0] : r.requestId;\n    }\n    async unwatch(requestId) {\n        return await this._ws.request({\n            path: \"\",\n            headers: {\n                authorization: \"\",\n            },\n            method: \"unwatch\",\n            requestId: requestId,\n        });\n    }\n    async _recursiveGet(path, subTree, data) {\n        if (!subTree || !data) {\n            throw new Error(\"Path mismatch.\");\n        }\n        if (subTree[\"_type\"]) {\n            data = (await this.get({ path })).data || {};\n        }\n        let children;\n        if (subTree[\"*\"]) {\n            children = Object.keys(data).reduce((acc, key) => {\n                if (data && typeof data[key] == \"object\") {\n                    acc.push({ treeKey: \"*\", dataKey: key });\n                }\n                return acc;\n            }, []);\n        }\n        else {\n            children = Object.keys(subTree || {}).reduce((acc, key) => {\n                if (data && typeof data[key] == \"object\") {\n                    acc.push({ treeKey: key, dataKey: key });\n                }\n                return acc;\n            }, []);\n        }\n        let promises = children.map(async (item) => {\n            const childPath = path + \"/\" + item.dataKey;\n            if (!data) {\n                return;\n            }\n            const res = await this._recursiveGet(childPath, subTree[item.treeKey], data[item.dataKey]);\n            data[item.dataKey] = res;\n            return;\n        });\n        return await Promise.all(promises).then(() => {\n            return data;\n        });\n    }\n    async put(request) {\n        const pathArray = utils.toArrayPath(request.path);\n        if (request.tree) {\n            let retryCount = 0;\n            let linkObj = null;\n            let newResourcePathArray = [];\n            for (let i = pathArray.length - 1; i >= 0; i--) {\n                const partialPathArray = pathArray.slice(0, i + 1);\n                const treeObj = utils.getObjectAtPath(request.tree, partialPathArray);\n                if (\"_type\" in treeObj) {\n                    const contentType = treeObj[\"_type\"];\n                    const partialPath = utils.toStringPath(partialPathArray);\n                    const resourceCheckResult = await this._resourceExists(partialPath);\n                    if (resourceCheckResult.exist) {\n                        if (linkObj && newResourcePathArray.length > 0) {\n                            const linkPutResponse = await this.put({\n                                path: utils.toStringPath(newResourcePathArray),\n                                contentType,\n                                data: linkObj,\n                                revIfMatch: resourceCheckResult.rev,\n                            }).catch((msg) => {\n                                if (msg.status == 412) {\n                                    return msg;\n                                }\n                                else {\n                                    throw new Error(`Error: ${msg.statusText}`);\n                                }\n                            });\n                            if (linkPutResponse.status == 412) {\n                                if (retryCount++ < 5) {\n                                    await utils.delay(1000 * (retryCount * retryCount + Math.random()));\n                                    i = pathArray.length - 1;\n                                    continue;\n                                }\n                                else {\n                                    throw Error(\"If-match failed.\");\n                                }\n                            }\n                        }\n                        break;\n                    }\n                    else {\n                        const relativePathArray = newResourcePathArray.slice(i + 1);\n                        const newResource = linkObj\n                            ? utils.createNestedObject(linkObj, relativePathArray)\n                            : {};\n                        const resourceId = await this._createResource(contentType, newResource);\n                        linkObj =\n                            \"_rev\" in treeObj\n                                ? { _id: resourceId, _rev: 0 }\n                                : { _id: resourceId };\n                        newResourcePathArray = partialPathArray.slice();\n                    }\n                }\n            }\n        }\n        let contentType = request.contentType ||\n            (request.data && request.data[\"_type\"]) ||\n            (request.tree\n                ? utils.getObjectAtPath(request.tree, pathArray)[\"_type\"]\n                : \"application/json\");\n        return this._ws.request({\n            method: \"put\",\n            headers: Object.assign({ authorization: `Bearer ${this._token}`, \"content-type\": contentType }, (request.revIfMatch && {\n                \"if-match\": request.revIfMatch.toString(),\n            })),\n            path: request.path,\n            data: request.data,\n        }, undefined, request.timeout);\n    }\n    async post(request) {\n        const pathArray = utils.toArrayPath(request.path);\n        const data = request.data;\n        if (request.tree) {\n            request.data = {};\n            await this.put(request);\n        }\n        let contentType = request.contentType ||\n            (request.data && request.data[\"_type\"]) ||\n            (request.tree\n                ? utils.getObjectAtPath(request.tree, pathArray)[\"_type\"]\n                : \"application/json\");\n        return this._ws.request({\n            method: \"post\",\n            headers: {\n                authorization: `Bearer ${this._token}`,\n                \"content-type\": contentType,\n            },\n            path: request.path,\n            data,\n        }, undefined, request.timeout);\n    }\n    async head(request) {\n        return this._ws.request({\n            method: \"head\",\n            headers: {\n                authorization: `Bearer ${this._token}`,\n            },\n            path: request.path,\n        }, undefined, request.timeout);\n    }\n    async delete(request) {\n        return this._ws.request({\n            method: \"delete\",\n            headers: {\n                authorization: `Bearer ${this._token}`,\n            },\n            path: request.path,\n        }, undefined, request.timeout);\n    }\n    async _createResource(contentType, data) {\n        const resourceId = \"resources/\" + ksuid_1.default.randomSync().string;\n        await this.put({\n            path: \"/\" + resourceId,\n            data,\n            contentType,\n        });\n        return resourceId;\n    }\n    async _resourceExists(path) {\n        if (path === \"/resources\") {\n            return { exist: true };\n        }\n        const headResponse = await this.head({\n            path,\n        }).catch((msg) => {\n            if (msg.status == 404) {\n                return msg;\n            }\n            else if (msg.status == 403 && path.match(/^\\/resources/)) {\n                return { status: 404 };\n            }\n            else {\n                throw new Error(`Error: ${msg.statusText}`);\n            }\n        });\n        if (headResponse.status == 200) {\n            return { exist: true, rev: headResponse.headers[\"x-oada-rev\"] };\n        }\n        else if (headResponse.status == 404) {\n            return { exist: false };\n        }\n        else {\n            throw Error(\"Status code is neither 200 nor 404.\");\n        }\n    }\n}\nexports.OADAClient = OADAClient;\n//# sourceMappingURL=client.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst client_1 = require(\"./client\");\nfunction createInstance(config) {\n    return new client_1.OADAClient(config);\n}\nexports.createInstance = createInstance;\nasync function connect(config) {\n    const client = new client_1.OADAClient(config);\n    await client.awaitConnection();\n    return client;\n}\nexports.connect = connect;\nvar client_2 = require(\"./client\");\nexports.OADAClient = client_2.OADAClient;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction toStringPath(path) {\n    return \"/\" + path.join(\"/\");\n}\nexports.toStringPath = toStringPath;\nfunction toArrayPath(path) {\n    let arrayPath = path.split(\"/\");\n    if (arrayPath.length > 0 && arrayPath[0] == \"\") {\n        arrayPath.shift();\n    }\n    if (arrayPath.length > 0 && arrayPath[arrayPath.length - 1] == \"\") {\n        arrayPath.pop();\n    }\n    return arrayPath;\n}\nexports.toArrayPath = toArrayPath;\nfunction getObjectAtPath(tree, path) {\n    return path.reduce((acc, nextKey) => {\n        if (acc[nextKey]) {\n            return acc[nextKey];\n        }\n        else if (acc[\"*\"]) {\n            return acc[\"*\"];\n        }\n        else {\n            throw new Error(\"Specified path /\" + path.join('/') + \" does not exist in the tree.\");\n        }\n    }, tree);\n}\nexports.getObjectAtPath = getObjectAtPath;\nfunction toTreePath(tree, path) {\n    let treePath = [];\n    path.reduce((acc, nextKey) => {\n        if (acc[nextKey]) {\n            treePath.push(nextKey);\n            return acc[nextKey];\n        }\n        else if (acc[\"*\"]) {\n            treePath.push(\"*\");\n            return acc[\"*\"];\n        }\n        else {\n            throw new Error(\"Specified path /\" + path.join('/') + \" does not exist in the tree.\");\n        }\n    }, tree);\n    return treePath;\n}\nexports.toTreePath = toTreePath;\nfunction isResource(tree, path) {\n    const obj = getObjectAtPath(tree, path);\n    if (\"_id\" in obj) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nexports.isResource = isResource;\nfunction createNestedObject(obj, nestPath) {\n    const reversedArray = nestPath.slice().reverse();\n    return reversedArray.reduce((acc, nextKey) => {\n        let newObj = {};\n        newObj[nextKey] = acc;\n        return newObj;\n    }, obj);\n}\nexports.createNestedObject = createNestedObject;\nfunction delay(ms) {\n    return new Promise((_) => setTimeout(_, ms));\n}\nexports.delay = delay;\n//# sourceMappingURL=utils.js.map","\"use strict\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst WebSocket = require(\"isomorphic-ws\");\nconst ksuid_1 = __importDefault(require(\"ksuid\"));\nconst p_queue_1 = __importDefault(require(\"p-queue\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst trace = debug_1.default(\"@oada/client:ws:trace\");\nconst error = debug_1.default(\"@oada/client:ws:error\");\nconst request_1 = require(\"@oada/types/oada/websockets/request\");\nconst response_1 = require(\"@oada/types/oada/websockets/response\");\nconst change_1 = require(\"@oada/types/oada/websockets/change\");\nconst v2_1 = require(\"@oada/types/oada/change/v2\");\nvar ConnectionStatus;\n(function (ConnectionStatus) {\n    ConnectionStatus[ConnectionStatus[\"Disconnected\"] = 0] = \"Disconnected\";\n    ConnectionStatus[ConnectionStatus[\"Connecting\"] = 1] = \"Connecting\";\n    ConnectionStatus[ConnectionStatus[\"Connected\"] = 2] = \"Connected\";\n})(ConnectionStatus || (ConnectionStatus = {}));\nclass WebSocketClient {\n    constructor(domain, concurrency = 10) {\n        this._domain = domain;\n        this._requests = new Map();\n        this._status = ConnectionStatus.Connecting;\n        this._ws = new Promise((resolve) => {\n            const ws = new WebSocket(\"wss://\" + this._domain);\n            ws.onopen = () => {\n                this._status = ConnectionStatus.Connected;\n                resolve(ws);\n            };\n            ws.onclose = () => {\n                this._status = ConnectionStatus.Disconnected;\n            };\n            ws.onmessage = this._receive.bind(this);\n        });\n        this._q = new p_queue_1.default({ concurrency });\n        this._q.on(\"active\", () => {\n            trace(`WS Queue. Size: ${this._q.size} pending: ${this._q.pending}`);\n        });\n    }\n    async disconnect() {\n        if (this._status == ConnectionStatus.Disconnected) {\n            return;\n        }\n        (await this._ws).close();\n    }\n    isConnected() {\n        return this._status == ConnectionStatus.Connected;\n    }\n    async awaitConnection() {\n        await this._ws;\n    }\n    request(req, callback, timeout) {\n        return this._q.add(() => this.doRequest(req, callback, timeout));\n    }\n    async doRequest(req, callback, timeout) {\n        const requestId = req.requestId || ksuid_1.default.randomSync().string;\n        req.requestId = requestId;\n        request_1.assert(req);\n        (await this._ws).send(JSON.stringify(req));\n        const request_promise = new Promise((resolve, reject) => {\n            this._requests.set(requestId, {\n                resolve,\n                reject,\n                settled: false,\n                persistent: callback ? true : false,\n                callback,\n            });\n        });\n        if (timeout && timeout > 0) {\n            const timeout_promise = new Promise((resolve, reject) => {\n                setTimeout(() => {\n                    const request = this._requests.get(requestId);\n                    if (request && !request.settled) {\n                        request.reject(\"Request timeout\");\n                        this._requests.delete(requestId);\n                    }\n                    reject(\"Request timeout\");\n                }, timeout);\n            });\n            return Promise.race([request_promise, timeout_promise]);\n        }\n        else {\n            return request_promise;\n        }\n    }\n    _receive(m) {\n        try {\n            const msg = JSON.parse(m.data.toString());\n            let requestIds;\n            if (Array.isArray(msg.requestId)) {\n                requestIds = msg.requestId;\n            }\n            else {\n                requestIds = [msg.requestId];\n            }\n            for (const requestId of requestIds) {\n                let request = this._requests.get(requestId);\n                if (request) {\n                    if (response_1.is(msg)) {\n                        if (!request.callback) {\n                            this._requests.delete(requestId);\n                        }\n                        if (!request.settled) {\n                            request.settled = true;\n                            if (msg.status && msg.status >= 200 && msg.status < 300) {\n                                request.resolve(msg);\n                            }\n                            else if (msg.status) {\n                                request.reject(msg);\n                            }\n                            else {\n                                throw new Error(\"Request failed\");\n                            }\n                        }\n                    }\n                    else if (request.callback && change_1.is(msg)) {\n                        v2_1.assert(msg.change);\n                        const m = {\n                            requestId: msg.requestId,\n                            resourceId: msg.resourceId,\n                            path_leftover: msg.path_leftover,\n                            change: msg.change.map((_a) => {\n                                var { body } = _a, rest = __rest(_a, [\"body\"]);\n                                return Object.assign(Object.assign({}, rest), { body: body });\n                            }),\n                        };\n                        request.callback(m);\n                    }\n                    else {\n                        throw new Error(\"Invalid websocket payload received\");\n                    }\n                }\n            }\n        }\n        catch (e) {\n            error(`[Websocket ${this._domain}] Received invalid response. Ignoring.`);\n            trace(`[Websocket ${this._domain}] Received invalid response. %O`, e);\n        }\n    }\n}\nexports.WebSocketClient = WebSocketClient;\n//# sourceMappingURL=websocket.js.map","import oadaCacheOvermind from \"@oada/oada-cache-overmind\";\nconst oada = oadaCacheOvermind(\"oada\");\n\n// Define type of State\nexport type State = {\n  oada: any;\n  connection: null | string;\n  loaded: boolean;\n  mapCenter: { lat: number; lon: number; zoom: number };\n  field: Array<any>;\n  progressPolygon: Array<any>;\n  fields: Array<string>;\n  selectedField: null | number;\n  progress: { acre: number; percentage: number };\n  statistics: {\n    numOfFieldsHarvested: number;\n    numOfFieldsBeingHarvested: number;\n    totalHarvestedAreaInAcre: number;\n    totalAreaInAcre: number;\n    progress: number;\n  };\n};\n\n// Initialize State\nexport const state: State = {\n  oada: oada.state,\n  connection: null,\n  loaded: false,\n  selectedField: null,\n  mapCenter: { lat: 40.77884287, lon: -102.084164, zoom: 14 },\n  get fields() {\n    if (this.connection && this.loaded) {\n      // Connected\n      return Object.keys(\n        this.oada[this.connection].bookmarks.agrinovus[\"field-index\"]\n      );\n    } else {\n      return [];\n    }\n  },\n  get field() {\n    if (this.connection && this.loaded && this.selectedField !== null) {\n      const selectedFieldName = this.fields[this.selectedField];\n      return (\n        this.oada[this.connection].bookmarks.agrinovus[\"field-index\"][\n          selectedFieldName\n        ]?.field?.polygon || []\n      );\n    } else {\n      return [];\n    }\n  },\n  get progressPolygon() {\n    if (this.connection && this.loaded && this.selectedField !== null) {\n      const selectedFieldName = this.fields[this.selectedField];\n      return (\n        this.oada[this.connection].bookmarks.agrinovus[\"field-index\"][\n          selectedFieldName\n        ]?.progress?.polygon || []\n      );\n    } else {\n      return [];\n    }\n  },\n  get progress() {\n    if (this.connection && this.loaded && this.selectedField !== null) {\n      const selectedFieldName = this.fields[this.selectedField];\n      return {\n        acre: this.oada[this.connection].bookmarks.agrinovus[\"field-index\"][\n          selectedFieldName\n        ]?.progress?.areaInAcre,\n        percentage:\n          this.oada[this.connection].bookmarks.agrinovus[\"field-index\"][\n            selectedFieldName\n          ]?.progress?.progress * 100,\n      };\n    } else {\n      return { acre: 0, percentage: 0 };\n    }\n  },\n  get statistics() {\n    if (\n      this.connection &&\n      this.loaded &&\n      this.oada[this.connection].bookmarks.agrinovus.statistics\n    ) {\n      return this.oada[this.connection].bookmarks.agrinovus.statistics;\n    } else {\n      return {\n        numOfFieldsHarvested: 0,\n        numOfFieldsBeingHarvested: 0,\n        totalHarvestedAreaInAcre: 0,\n        totalAreaInAcre: 0,\n        progress: 0,\n      };\n    }\n  },\n};\n","import { Action } from \"overmind\";\n\nexport const selectField: Action<number> = ({ state }, id) => {\n    state.selectedField = id;\n    state.mapCenter.lat = state.field[0][0][0];\n    state.mapCenter.lon = state.field[0][0][1];\n};\n","// OADA Tree\nexport const tree = {\n  bookmarks: {\n    _type: \"application/json\",\n    _rev: 0,\n    agrinovus: {\n      _type: \"application/json\",\n      _rev: 0,\n      \"field-index\": {\n        \"*\": {\n          _type: \"application/json\",\n          _rev: 0,\n          field: {\n            _type: \"application/json\",\n            _rev: 0,\n          },\n          progress: {\n            _type: \"application/json\",\n            _rev: 0,\n          },\n          statistics: {\n            _type: \"application/json\",\n            _rev: 0,\n          },\n        },\n      },\n      statistics: {\n        _type: \"application/json\",\n        _rev: 0,\n      },\n    },\n  },\n};\n","import { OnInitialize } from \"overmind\";\nimport { tree } from \"./tree\";\n\nexport const onInitialize: OnInitialize = async ({\n  state,\n  actions,\n  effects,\n}) => {\n  await actions.oada\n    .connect({\n      token: \"abc\",\n      domain: \"https://cloudradio40.ecn.purdue.edu\",\n    })\n    .then((response) => {\n      console.log(response);\n      if (!response.error) {\n        state.connection = response.connectionId;\n      }\n      return response;\n    });\n  const requests = [\n    {\n      path: \"/bookmarks/agrinovus\",\n      tree,\n      watch: {\n        actions: [],\n      },\n    },\n  ];\n  await actions.oada.get({ requests, connection_id: state.connection });\n  state.loaded = true;\n  if (state.fields.length > 0) {\n    state.selectedField = 0;\n    state.mapCenter.lat = state.field[0][0][0];\n    state.mapCenter.lon = state.field[0][0][1];\n  }\n};\n","import { createHook } from \"overmind-react\";\nimport { state } from \"./state\";\nimport * as actions from \"./actions\";\n//import * as effects from './effects';\nimport { onInitialize } from \"./onInitialize\";\nimport { IConfig } from \"overmind\";\nimport oadaCacheOvermind from \"@oada/oada-cache-overmind\";\n\nconst oada = oadaCacheOvermind(\"oada\");\n\nexport const config = {\n  state,\n  actions: { oada: oada.actions, ...actions },\n  effects: { oada: oada.effects },\n  onInitialize,\n};\n\ndeclare module \"overmind\" {\n  interface Config extends IConfig<typeof config> {}\n}\n\nexport const useOvermind = createHook<typeof config>();\n","import React from \"react\";\nimport { useOvermind } from \"../overmind\";\nimport L from \"leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport \"./map.css\";\nimport {\n  MapContainer,\n  TileLayer,\n  Marker,\n  Popup,\n  CircleMarker,\n  Tooltip,\n  Polygon,\n  useMap,\n} from \"react-leaflet\";\nimport icon from \"leaflet/dist/images/marker-icon.png\";\nimport iconShadow from \"leaflet/dist/images/marker-shadow.png\";\nimport { colors } from \"@material-ui/core\";\n\nlet DefaultIcon = L.icon({\n  iconUrl: icon,\n  shadowUrl: iconShadow,\n});\n\nL.Marker.prototype.options.icon = DefaultIcon;\n\nfunction ChangeView({ center }) {\n  const map = useMap();\n  map.setView(center, 14);\n  return null;\n}\n\nfunction selectColor(){\n\n  var color = \"yellow\";\n  var x = Math.floor((Math.random() * 5) + 1);\n  if (x == 1){\n    color = \"magenta\";\n  }\n\n  if (x == 2){\n    color = \"yellow\";\n  }\n\n  if (x == 3){\n    color = \"cyan\";\n  }\n\n  if (x == 4){\n    color = \"white\";\n  }\n\n  if (x == 5){\n    color = \"purple\";\n  }\n\n  return color;\n}\n\nconst MapComponent = () => {\n  const { state } = useOvermind();\n  const position: L.LatLngTuple = [state.mapCenter.lat, state.mapCenter.lon];\n    const fieldPolygon: [number, number][] = state.field;\n    const progressPolygon: [number, number][] = state.progressPolygon;\n    const polygonColor = selectColor();\n    return (\n        <MapContainer center={position} zoom={14}>\n            <ChangeView center={position} />\n            <TileLayer\n                attribution=\"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community\"\n                url=\"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\"\n            />\n            <Polygon pathOptions={{ color: polygonColor }} positions={fieldPolygon} />\n            <Polygon pathOptions={{ color: polygonColor, fillOpacity: 1 }} positions={progressPolygon} />\n\n        </MapContainer>\n    );\n};\n\nexport default MapComponent;\n","export default __webpack_public_path__ + \"static/media/odap-demo-logo.2c0e9fa8.png\";","import React from \"react\";\nimport clsx from \"clsx\";\nimport {\n  makeStyles,\n  useTheme,\n  Theme,\n  createStyles,\n  withStyles,\n} from \"@material-ui/core/styles\";\nimport { useOvermind } from \"../overmind\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport List from \"@material-ui/core/List\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport DashboardIcon from \"@material-ui/icons/Dashboard\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport Collapse from '@material-ui/core/Collapse';\nimport HelpIcon from '@material-ui/icons/Help';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport logo from \"./odap-demo-logo.png\";\n\nconst drawerWidth = 200;\n\nconst darkTheme = createMuiTheme({\n  palette: {\n    type: \"dark\",\n  },\n});\n\nconst lightTheme = createMuiTheme({\n  palette: {\n    type: \"light\",\n  },\n});\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n    },\n    appBar: {\n      display: \"flex\",\n      flexGrow: 1,\n      justifyContent: \"space-between\",\n      zIndex: 2,\n      background: '#1082B8'\n    },\n    appTitleBig:{\n      margin: theme.spacing(1),\n      fontWeight: 600,\n      lineHeight: 1,\n    },\n    appTitleSmall:{\n      margin: theme.spacing(1),\n      fontSize: 11,\n      fontWeight: 600,\n      lineHeight: 1,\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    helpButton:{\n      \n    },\n    hide: {\n      display: \"none\",\n    },\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n    drawerPaperBig: {\n      width: drawerWidth,\n      background: '#1082B8',\n      zIndex: 2,\n      top: 64,\n    },\n    drawerPaperSmall: {\n      width: drawerWidth,\n      background: '#1082B8',\n      zIndex: 2,\n      top: 56,\n    },\n    drawerHeader: {\n      display: \"flex\",\n      alignItems: \"center\",\n    },\n    nested: {\n      paddingLeft: theme.spacing(4),\n    },\n    logo: {\n      height: '48px',\n      width: '167px',\n    },\n    dialogTitle:{\n      alignItems: \"center\",\n    },\n  })\n);\n\nconst LeftDrawerComponent = () => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [open, setOpen] = React.useState(true);\n  const [inProgressMenuOpen, setInProgressMenuOpen] = React.useState(false);\n  const [notStartedMenuOpen, setNotStartedMenuOpen] = React.useState(false);\n  const [doneMenuOpen, setDoneMenuOpen] = React.useState(false);\n  const [infoOpen, setInfoOpen] = React.useState(false);\n  const { state, actions } = useOvermind();\n  const bigScreen = useMediaQuery('(min-width:600px)');\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const inProgressHandleClick = () => {\n    setInProgressMenuOpen(!inProgressMenuOpen);\n  };\n\n  const notStartedHandleClick = () => {\n    setNotStartedMenuOpen(!notStartedMenuOpen);\n  };\n\n  const doneHandleClick = () => {\n    setDoneMenuOpen(!doneMenuOpen);\n  };\n\n  const infoHandleClickOpen = () => {\n    setInfoOpen(true);\n  };\n\n  const infoHandleClose = () => {\n    setInfoOpen(false);\n  };\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar className={classes.appBar}>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            edge=\"start\"\n            className={clsx(classes.menuButton, open && classes.hide)}\n          >\n            <MenuIcon />\n          </IconButton>\n          <IconButton \n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerClose}\n            edge='start'\n            className={clsx(classes.menuButton, \n                            !open && classes.hide)}>\n            <ChevronLeftIcon />\n          </IconButton>\n          <div>\n            <img src={logo} alt=\"logo\" \n            className={classes.logo}/>\n          </div>\n          <Typography \n            variant=\"h5\" \n            className={clsx(classes.appTitleBig, !bigScreen && classes.hide)}>\n            Harvest Progress Monitor\n          </Typography>\n          <Typography \n            variant=\"h6\" \n            className={clsx(classes.appTitleSmall, bigScreen && classes.hide)}>\n              <div>Harvest <br /> Progress <br /> Monitor</div>\n          </Typography>\n          <IconButton \n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={infoHandleClickOpen}\n            edge='end'\n            className={classes.helpButton}>\n            <HelpIcon />\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n      <div>\n      <MuiThemeProvider theme={lightTheme}>\n        <Dialog\n          fullScreen={!bigScreen}\n          open={infoOpen}\n          onClose={infoHandleClose}\n          aria-labelledby=\"help\"\n          color=\"inherit\"\n        >\n          <DialogTitle id=\"help\">\n            {\"The OATS Data Automation Platform - Harvest Progress Monitor Demo\"}\n          </DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              To view a list of the available field records, please click on the menu \n              icon on the top left corner of the screen. Fields will be sorted by their\n              progress status. To view the progress of a specific field, please select \n              the field on the fields list. Once selected, the current progress will \n              appear on the bottom bar. To view more details of a field progress, please \n              click on the arrow on the bottom bar.  \n            </DialogContentText>\n            <DialogContentText>\n              ODAP is a web-based platform for data automation, covering data collection, \n              transmission, analysis, and visualization. It is a coordinated attempt of \n              developing, utilizing, and improving open-source hardware and software to \n              conquer the data automation problem in digital agriculture.\n            </DialogContentText>\n            <DialogContentText>\n              ODAP is a creation of Team OATS for the Producer-Led Innovation Challenge \n              hosted by AgriNovus.\n\n            </DialogContentText>\n            <DialogContentText>\n              2020 - Ver. 0.1.0 - Harvest Progress Monitor Demo\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button autoFocus onClick={infoHandleClose}>\n              OK\n            </Button>\n          </DialogActions>\n        </Dialog>\n        </MuiThemeProvider>\n      </div>\n      <Drawer\n        className={classes.drawer}\n        variant=\"persistent\"\n        anchor=\"left\"\n        open={open}\n        classes={{\n          paper: clsx(bigScreen && classes.drawerPaperBig, \n                      !bigScreen && classes.drawerPaperSmall),\n        }}\n      >\n        <MuiThemeProvider theme={darkTheme}>\n          <Typography variant=\"h4\" align=\"center\" color=\"textSecondary\">\n            Fields\n          </Typography>\n          <Divider />\n          <List>\n            <ListItem\n              button\n              onClick={inProgressHandleClick}>\n              <ListItemIcon>\n                <PlayArrowIcon />\n              </ListItemIcon>\n              <ListItemText primary=\"In progress\" />\n            </ListItem>\n            <Collapse in={inProgressMenuOpen} timeout=\"auto\" unmountOnExit>\n              <List component=\"div\" disablePadding>\n              {state.fields.map((text, index) => (\n              <ListItem\n                button\n                key={text}\n                onClick={() => actions.selectField(index)}\n                className={classes.nested}\n              >\n                <ListItemIcon>\n                  <DashboardIcon />\n                </ListItemIcon>\n                <ListItemText primary={text} color=\"textSecondary\" />\n              </ListItem>\n            ))}\n              </List>\n            </Collapse>\n            <ListItem\n              button\n              onClick={notStartedHandleClick}>\n              <ListItemIcon>\n                <PlayArrowIcon />\n              </ListItemIcon>\n              <ListItemText primary=\"Not Started\" />\n            </ListItem>\n            <Collapse in={notStartedMenuOpen} timeout=\"auto\" unmountOnExit>\n              <List component=\"div\" disablePadding>\n                <ListItem button className={classes.nested}>\n                  <ListItemIcon>\n                    <DashboardIcon />\n                  </ListItemIcon>\n                  <ListItemText>\n                    Field A\n                  </ListItemText>\n                </ListItem>\n              </List>\n            </Collapse>\n            <ListItem\n              button\n              onClick={doneHandleClick}>\n              <ListItemIcon>\n                <PlayArrowIcon />\n              </ListItemIcon>\n              <ListItemText primary=\"Done\" />\n            </ListItem>\n            <Collapse in={doneMenuOpen} timeout=\"auto\" unmountOnExit>\n              <List component=\"div\" disablePadding>\n                <ListItem button className={classes.nested}>\n                  <ListItemIcon>\n                    <DashboardIcon />\n                  </ListItemIcon>\n                  <ListItemText>\n                    Field B\n                  </ListItemText>\n                </ListItem>\n              </List>\n            </Collapse>\n          </List>\n        </MuiThemeProvider>\n        <Divider />\n      </Drawer>\n    </div>\n  );\n};\n\nexport default LeftDrawerComponent;\n","import React from \"react\";\nimport clsx from \"clsx\";\nimport {\n  makeStyles,\n  useTheme,\n  Theme,\n  createStyles,\n  withStyles,\n} from \"@material-ui/core/styles\";\nimport { useOvermind } from \"../overmind\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport LinearProgress, {\n  LinearProgressProps,\n} from \"@material-ui/core/LinearProgress\";\nimport Box from \"@material-ui/core/Box\";\nimport { selectField } from \"../overmind/actions\";\n\nconst drawerHeight = 280;\n\nconst THEME = createMuiTheme({\n  palette: {\n    type: \"dark\",\n  },\n});\n\nconst BorderLinearProgress = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      height: 25,\n      borderRadius: 5,\n    },\n    colorPrimary: {\n      backgroundColor:\n        theme.palette.grey[theme.palette.type === \"light\" ? 200 : 700],\n    },\n    bar: {\n      borderRadius: 5,\n      backgroundColor: \"#FFFFFF\",\n    },\n  })\n)(LinearProgress);\n\nfunction LinearProgressWithLabel(\n  props: LinearProgressProps & { value: number }\n) {\n  return (\n    <Box display=\"flex\" alignItems=\"center\">\n      <Box width=\"100%\" mr={1}>\n        <BorderLinearProgress variant=\"determinate\" {...props} />\n      </Box>\n      <Box minWidth={35}>\n        <Typography variant=\"body2\" color=\"textPrimary\">\n          {`${Math.round(props.value)}%`}\n        </Typography>\n      </Box>\n    </Box>\n  );\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n    },\n    appBar: {\n      transition: theme.transitions.create([\"margin\", \"height\"], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n      top: \"auto\",\n      bottom: 0,\n      alignItems: \"center\",\n      zIndex: 3,\n      background: \"#1082B8\",\n    },\n    appBarShift: {\n      transition: theme.transitions.create([\"margin\", \"height\"], {\n        easing: theme.transitions.easing.easeOut,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n      zIndex: 3,\n    },\n    appBarProgress: {\n      transition: theme.transitions.create([\"margin\", \"height\"], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n      zIndex: 3,\n      alignItems: \"center\",\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    bottomBarButton: {\n      alignItems: \"center\",\n    },\n    hide: {\n      display: \"none\",\n    },\n    drawer: {\n      height: drawerHeight,\n      flexShrink: 0,\n    },\n    drawerPaper: {\n      height: drawerHeight,\n      background: \"#1082B8\",\n      alignItems: \"center\",\n      width: \"100%\",\n    },\n    drawerEmptyField: {\n      height: drawerHeight - 160,\n      background: \"#1082B8\",\n      alignItems: \"center\",\n    },\n    progressBar: {\n      width: \"75%\",\n      padding: theme.spacing(2, 0, 4),\n    },\n  })\n);\n\nfunction showProgress(state) {\n  if (state.selectedField === null) {\n    return false;\n  } else {\n    return true;\n  }\n}\n\nfunction truncate(num, places) {\n  return Math.trunc(num * Math.pow(10, places)) / Math.pow(10, places);\n}\n\nconst BottomDrawerComponent = () => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [open, setOpen] = React.useState(false);\n  const { state, actions } = useOvermind();\n  const [progress, setProgress] = React.useState(10);\n  const showProgressBar = showProgress(state);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <MuiThemeProvider theme={THEME}>\n        <AppBar\n          position=\"fixed\"\n          className={clsx(classes.appBar, {\n            [classes.appBarShift]: open,\n            [classes.appBarProgress]: showProgressBar,\n          })}\n        >\n          <Toolbar>\n            <IconButton\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n              onClick={handleDrawerOpen}\n              className={clsx(classes.bottomBarButton, open && classes.hide)}\n            >\n              <ExpandLessIcon />\n            </IconButton>\n          </Toolbar>\n          <div\n            className={clsx(\n              !showProgressBar && classes.hide,\n              classes.progressBar\n            )}\n          >\n            <LinearProgressWithLabel value={state.progress.percentage} />\n          </div>\n        </AppBar>\n        <Drawer\n          className={classes.drawer}\n          variant=\"persistent\"\n          anchor=\"bottom\"\n          open={open}\n          classes={{\n            paper: clsx(\n              classes.drawerPaper,\n              !showProgressBar && classes.drawerEmptyField\n            ),\n          }}\n        >\n          <div className={classes.bottomBarButton}>\n            <IconButton onClick={handleDrawerClose}>\n              <ExpandMoreIcon />\n            </IconButton>\n          </div>\n          <Divider />\n          <Typography\n            variant=\"h6\"\n            color=\"textSecondary\"\n            style={{ fontWeight: 600 }}\n            gutterBottom\n          >\n            {state.selectedField !== null\n              ? state.fields[state.selectedField]\n              : \"(No field has been selected)\"}\n          </Typography>\n          <div className={clsx(!showProgressBar && classes.hide)}>\n            <Typography color=\"textSecondary\">Harvest Progress</Typography>\n          </div>\n          <div\n            className={clsx(\n              !showProgressBar && classes.hide,\n              classes.progressBar\n            )}\n          >\n            <LinearProgressWithLabel value={state.progress.percentage} />\n          </div>\n          <div className={clsx(!showProgressBar && classes.hide)}>\n            <Typography color=\"textSecondary\">\n              Harvested Area: {truncate(state.progress.acre, 2)} ac\n            </Typography>\n            <Typography color=\"textSecondary\">\n              Number of Fields Being Harvested:{\" \"}\n              {state.statistics.numOfFieldsBeingHarvested}\n            </Typography>\n            <Typography color=\"textSecondary\">\n              Number of Fields Harvested:{\" \"}\n              {state.statistics.numOfFieldsHarvested}\n            </Typography>\n            <Typography color=\"textSecondary\">\n              Overall Progress: {Math.round(state.statistics.progress * 100)}\n            </Typography>\n          </div>\n        </Drawer>\n      </MuiThemeProvider>\n    </div>\n  );\n};\n\nexport default BottomDrawerComponent;\n","import React, { useCallback, useState } from \"react\";\nimport clsx from 'clsx';\nimport { useOvermind } from \"../overmind\";\nimport { createStyles, Theme, makeStyles } from \"@material-ui/core/styles\";\nimport MapComponent from \"./Map\";\nimport LeftDrawerComponent from \"./LeftDrawer\";\nimport BottomDrawerComponent from \"./BottomDrawer\"\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nconst drawerWidth = 200;\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n    },\n    content: {\n      flexGrow: 1,\n      marginLeft: -drawerWidth,\n      zIndex: 1,\n    },\n  })\n);\n\nconst App = () => {\n  const { state, actions } = useOvermind();\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <LeftDrawerComponent />\n      <main className={classes.content}>\n        <MapComponent />\n      </main>\n      <BottomDrawerComponent />\n    </div>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import { createOvermind } from \"overmind\";\nimport { Provider } from \"overmind-react\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { config } from \"./overmind\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nexport const overmind = createOvermind(config, {\n//  devtools: false,\n});\n\nReactDOM.render(\n  <Provider value={overmind}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}